
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#security-amp-privacy" class="toc-h1 toc-link" data-title="Security &amp; Privacy">Security &amp; Privacy</a>
          </li>
          <li>
            <a href="#api-access" class="toc-h1 toc-link" data-title="API Access">API Access</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
          <li>
            <a href="#building-user-experience" class="toc-h1 toc-link" data-title="Building User Experience">Building User Experience</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#displaying-recurring-payments-cancellation-buttons-and-recommendations" class="toc-h2 toc-link" data-title="Displaying Recurring Payments, Cancellation Buttons, and Recommendations">Displaying Recurring Payments, Cancellation Buttons, and Recommendations</a>
                  </li>
                  <li>
                    <a href="#displaying-the-cancellation-modal" class="toc-h2 toc-link" data-title="Displaying the Cancellation Modal">Displaying the Cancellation Modal</a>
                  </li>
                  <li>
                    <a href="#visualizing-monthly-payments" class="toc-h2 toc-link" data-title="Visualizing Monthly Payments">Visualizing Monthly Payments</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#financial-wellness" class="toc-h1 toc-link" data-title="Financial Wellness">Financial Wellness</a>
          </li>
          <li>
            <a href="#recurring-payments" class="toc-h1 toc-link" data-title="Recurring Payments">Recurring Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-recurring-payments-from-a-transaction-history" class="toc-h2 toc-link" data-title="Get All Recurring Payments from a Transaction History">Get All Recurring Payments from a Transaction History</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cancellations" class="toc-h1 toc-link" data-title="Cancellations">Cancellations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cancel-a-subscription" class="toc-h2 toc-link" data-title="Cancel a Subscription">Cancel a Subscription</a>
                  </li>
                  <li>
                    <a href="#get-the-details-of-a-specific-cancellation" class="toc-h2 toc-link" data-title="Get the Details of a Specific Cancellation">Get the Details of a Specific Cancellation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#commerce" class="toc-h1 toc-link" data-title="Commerce">Commerce</a>
          </li>
          <li>
            <a href="#recommendations" class="toc-h1 toc-link" data-title="Recommendations">Recommendations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-recommended-services-for-a-user" class="toc-h2 toc-link" data-title="Get Recommended Services for a User">Get Recommended Services for a User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#merchants" class="toc-h1 toc-link" data-title="Merchants">Merchants</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#upload-a-sku" class="toc-h2 toc-link" data-title="Upload a SKU">Upload a SKU</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transactions" class="toc-h1 toc-link" data-title="Transactions">Transactions</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p><span style="color:#32325D; font-size:25px; font-weight: 400; line-height: 40px;">Lifespan offers APIs for <span style="color:#08B7B7; font-weight: 600">driving financial wellness</span> and <span style="color:#08B7B7; font-weight: 600">expanding cards on file</span> in the exploding Subscription Economy.</span></p>

<p>Lifespan is an end-to-end API for subscription management, discovery, and transactions. It&#39;s infrastructure that enables your cardholders to view, cancel, and add new subscription services frictionlessly within your web and mobile apps. You can integrate any feature individually or all together as a bundle.</p>

<p>The Lifespan API is organized around REST. Our API has predictable resource-oriented URLs, accepts form-encoded request bodies, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and verbs. You can use the Lifespan API in test mode, which does not affect live data.</p>
<h1 id='security-amp-privacy'>Security &amp; Privacy</h1>
<p>Security is priority number one at Lifespan. Our data footprint is kept to an absolute minimum. Sensitive data is never stored on Lifespan servers, data is encrypted in transit, and it is always anonymized. Anytime we need access to sensitive data from your user we <strong>require</strong> explicit user opt-in. Check out <a href="#building-user-experience">Building User Experience</a> for examples of security screens and messaging.</p>

<p>We use standard OAuth 2.0 protocol for authentication and authorization. See <a href="#api-access">API Access</a> below to get keys. Additionally, our APIs only communicate via HTTPS to guard against man-in-the-middle attacks and other methods of tampering with communication between your servers and ours.</p>
<h1 id='api-access'>API Access</h1><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.lifespan.co/oauth/token"</span>
  -H <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span>
  -d <span class="s2">"grant_type=client_credentials&amp;client_id={YOUR_CLIENT_ID}&amp;client_secret={YOUR_CLIENT_SECRET}"</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="err">Content-Type</span><span class="p">:</span><span class="w"> </span><span class="err">application/json</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJz93a...k4laUWw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The Lifespan API implements the <a href="https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/" target="_blank">OAuth 2.0 client credentials grant flow.</a> There are a few steps to get set up with keys:</p>

<ol>
<li>Send us an email at <strong>api@lifespan.co</strong> to request credentials for your organization.</li>
<li>We&#39;ll send you a <code>client_id</code> and a <code>client_secret</code>. <strong>Save these somewhere secure.</strong></li>
<li>Request an <code>access_token</code> (see example).</li>
</ol>

<p>After you recieve an <code>access_token</code> store it in your database for future use. When making requests to the Lifespan API you <strong>must</strong> include the token in the authorization header like so: <code>Authorization: Bearer {token}</code></p>

<aside class="notice">
You must replace <code>token</code> with your personal API key.
</aside>
<h1 id='errors'>Errors</h1>
<p>The Lifespan API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The resource requested is not available to you.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>
<h1 id='building-user-experience'>Building User Experience</h1>
<p>You will build a consumer-facing user experience directly into your web or mobile application. Below are a few suggestions and examples of how you might build your front-end components and the flows that connect them, but ultimately the choice is yours as for how to best present data and functionality to users.</p>
<h2 id='displaying-recurring-payments-cancellation-buttons-and-recommendations'>Displaying Recurring Payments, Cancellation Buttons, and Recommendations</h2>
<p>Display the results of a call to the <a href="#recurring-services">Recurring Payments API</a> in a list. If you&#39;re using the <a href="#cancellations">Cancellations API</a>, add a one-way switch or cancel button to each list element. If you&#39;re using the <a href="#recomendations">Recommendations API</a>, display the recommendations returned from your call in a module below the user&#39;s current recurring payments.</p>

<p><img src="https://i.imgur.com/XvHUjmi.png" title="Displaying Recurring Payments and Recommendations Modules" alt="alt text" /></p>
<h2 id='displaying-the-cancellation-modal'>Displaying the Cancellation Modal</h2>
<p>Upon clicking or tapping a cancellation button, render a popup modal prompting the user for their email associated with the given service. The modal should appear over the list of recurring services.</p>

<p><img src="https://i.imgur.com/XAB4vD7.png" title="Cancellation Modal" alt="alt text" /></p>
<h2 id='visualizing-monthly-payments'>Visualizing Monthly Payments</h2>
<p>Donut charts are a great way to visualize monthly data. Show the total monthly spend in the center. Users should be able to hover over or click each section of your chart to view full details. Consider including a legend for added clarity.</p>

<p><img src="https://i.imgur.com/n8FUqnI.png" title="Pie chart breakdown of a user's monthly spend" alt="alt text" /></p>
<h1 id='financial-wellness'>Financial Wellness</h1>
<p>Lifespan offers two APIs that enable cardholders to view and cancel recurring payments.</p>

<p>The <a href='#recurring-payments'>Recurring Payments API</a> allows developers to find a user&#39;s recurring transactions from a full transaction history. It returns a list of all found recurring payments and their prices. This information can be used to provide a breakdown of the user&#39;s monthly recurring spend.</p>

<p>The <a href='#cancellations'>Cancellation API</a> can be leveraged in tandem with the results of the Recurring Payments API to enable users to cancel any recurring service from within your application, as opposed to experiencing various merchants&#39; potentially convoluted cancellation processes. Lifespan will contact the merchant to initiate the cancelation and return an ID that can be used to track status. Your user will be updated via email.</p>
<h1 id='recurring-payments'>Recurring Payments</h1><h2 id='get-all-recurring-payments-from-a-transaction-history'>Get All Recurring Payments from a Transaction History</h2><pre class="highlight shell tab-shell"><code>curl -d <span class="s1">'{
    "transactions":[ 
      {
        "amount":"12.99",
        "name":"spotify",
        "date":"01/02/2019"
      },
      {
        "amount":"15.99",
        "name":"netflix",
        "date":"01/02/2019"
      },
      ...
    ]}'</span> 
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: {token}"</span> 
    -X POST https://api.lifespan.co/services
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"services"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spotify"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1299</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1599</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a list of all recurring payments found in a transaction history for a given card account. Each result will include the merchant <code>name</code> and the <code>price</code> of the service. The <code>price</code> field of the returned services is always in cents.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.lifespan.co/services</code></p>
<h3 id='payload'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transactions <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>A JSON-stringified array of transactions. <strong>Must include amount, date and name fields</strong> <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>
<h1 id='cancellations'>Cancellations</h1><h2 id='cancel-a-subscription'>Cancel a Subscription</h2><pre class="highlight shell tab-shell"><code>curl -d <span class="s1">'{"merchantName":"Spotify", "userEmail": "thanos@lifespan.co"}'</span> 
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: {token}"</span> 
    -X POST https://api.lifespan.co/cancellations
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"initiated"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in a merchant name and the email of the user that would like to cancel their subscription. This email <strong>must</strong> be the email in use at the service in question. The cancellation will be initiated and that user will receive email updates on the cancellation status as it progresses. Usually no more than 24 hours.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://api.lifespan.co/cancellations</code></p>
<h3 id='payload-2'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantName <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The name of the subscription merchant the user would like to cancel. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>userEmail <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The email address of the user that would like to cancel the subscription. This email must be the one associated with the user&#39;s account with the merchant. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>

<p><img src="https://i.imgur.com/FFuV3Rp.png" title="Cancellations" alt="alt text" /></p>
<h2 id='get-the-details-of-a-specific-cancellation'>Get the Details of a Specific Cancellation</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.lifespan.co/cancellations/1234"</span>
  -H <span class="s2">"Authorization: {token}"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns the status of a given cancellation id.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://api.lifespan.co/cancellations/&lt;id&gt;</code></p>
<h3 id='payload-3'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>The ID of the cancellation. This is provided in the response to a POST request to <span style="color:#cd3d64;"><code>/cancellations</code></span>. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>
<h1 id='commerce'>Commerce</h1>
<p>Giving cardholders the ability to track and cancel recurring payments not only enhances your product experience, it also lays the foundation for monetization. It unlocks an opportunity to recommend new services based on data, with your card automatically going on file upon each conversion. As the subscription economy <a href="https://www.mckinsey.com/industries/high-tech/our-insights/thinking-inside-the-subscription-box-new-research-on-ecommerce-consumers" target="_blank">continues to grow </a>, use our APIs to actively drive increasing and reliable interchange revenue.</p>
<h1 id='recommendations'>Recommendations</h1><h2 id='get-recommended-services-for-a-user'>Get Recommended Services for a User</h2><pre class="highlight shell tab-shell"><code>curl -X GET https://api.lifespan.co/recommendations
    -H <span class="s2">"Authorization: {token}"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{
         "subscriptions": [
            "Hulu",
            "Amazon Prime",
            "Ipsy",
            "Lola",
            "Barkbox"
         ],
         "gender": "Female",
         "age": 30,
         "zip": 94539
       }'</span> 
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"recommendations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York Times"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30% off first 3 months"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Postmates Unlimited"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3 months free"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rent the Runway"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$80 off first 2 months"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Farmer's Dog"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20% off first month"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Birchbox"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20% off first 3 months"</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in a user&#39;s current subscriptions, gender, age, and zip code. The response is an array of objects consisting of the name of each recommended service and its corresponding offer. The objects are ranked in order of user conversion probability as scored by our recommendations algorithm, so we encourage you to display the results in the order in which you receive them.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://api.lifespan.co/recommendations</code></p>
<h3 id='payload-4'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriptions <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>List of user&#39;s current subscription services. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>gender <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>User&#39;s gender. Value can either be <span style="color:#cd3d64;"><code>Male</code></span> or <span style="color:#cd3d64;"><code>Female</code></span>. <span style="color:#8792a2; font-size:12px; font-weight: 500;">optional</span></td>
</tr>
<tr>
<td>age <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>User&#39;s age in years. <span style="color:#8792a2; font-size:12px; font-weight: 500;">optional</span></td>
</tr>
<tr>
<td>zip <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>Zip code of user&#39;s residence. Must be a valid United States code. <span style="color:#8792a2; font-size:12px; font-weight: 500;">optional</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>

<p><img src="https://i.imgur.com/B2AQGK1.png" title="Recommendations" alt="alt text" /></p>
<h1 id='merchants'>Merchants</h1><h2 id='upload-a-sku'>Upload a SKU</h2><pre class="highlight shell tab-shell"><code>curl -X POST https://api.lifespan.co/merchants
    -H <span class="s2">"Authorization: {token}"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{
         "name": "YouTubeTV",
         "website": "https://tv.youtube.com"
         "logo": "https://tv.youtube.com/logo",
         "gender": "All",
         "plans": [
            {
               "name": "Standard",
               "price": 40.00,
               "interval": "month",
               "includes": [
                  "DVR with unlimited storage",
                  "Local and national live sports",
                  "6 accounts per household",
                  "3 simultaneous streams"
               ],
               "regions": ["United States"]
            }
         ],
         "offers": [
            {
               "description": "7 days free",
               "qualifiers": null
            },
            {
               "description": "1 month free",
               "qualifiers": ["HBO Now", "Hulu", "Netflix"]
            },
            {
               "description": "2 months free",
               "qualifiers": ["SlingTV", "DirectTV", "DishTV"]
            }
         ]
       }'</span> 
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">   </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SKU successfully uploaded"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in attributes of a subscription service. It returns an object with a 200 status code if the call succeeded.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST https://api.lifespan.co/merchants</code></p>
<h3 id='payload-5'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>Name of subscription service. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>website <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>Website URL. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>logo <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>URL to hosted logo. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required<span></td>
</tr>
<tr>
<td>gender <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The gender of the service&#39;s target demographic. Values can be either <span style="color:#cd3d64;"><code>Male</code></span>, <span style="color:#cd3d64;"><code>Female</code></span>, or <span style="color:#cd3d64;"><code>All</code></span>. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>plans <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>An array of objects, with each object representing a plan. The plan object contains the following required information: the <span style="color:#cd3d64;"><code>name</code></span> <span style="color:#8792a2; font-size:12px;">(string)</span> of the service, its <span style="color:#cd3d64;"><code>price</code></span> <span style="color:#8792a2; font-size:12px;">(integer)</span> in USD, the billing <span style="color:#cd3d64;"><code>interval</code></span> <span style="color:#8792a2; font-size:12px;">(string)</span>, a list of benefits and/or features the service <span style="color:#cd3d64;"><code>includes</code></span> <span style="color:#8792a2; font-size:12px;">(array)</span> and a list of U.S. <span style="color:#cd3d64;"><code>regions</code></span><span style="color:#8792a2; font-size:12px;">(array)</span> - cities or states - that the plan is available in. Send <span style="color:#cd3d64;"><code>&quot;regions&quot;: [&quot;United States&quot;]</code></span> if nationwide or <span style="color:#cd3d64;"><code>[&quot;Continental United States&quot;]</code></span> if available everywhere but Alaska and Hawaii. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required<span></td>
</tr>
<tr>
<td>offers <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>An array of objects, with each object representing an offer. The offer object contains 1. a <span style="color:#cd3d64;"><code>description</code></span> <span style="color:#8792a2; font-size:12px;">(string)</span> of the offer. 2. A list of <span style="color:#cd3d64;"><code>qualifiers</code></span> <span style="color:#8792a2; font-size:12px;">(array)</span>. Qualifiers are subscriptions a target user may be engaged with currently which indicate interest in your category or engagement with competing services; thus <strong>qualifying</strong> them for a specific offer. If the offer is available to anyone regardless of their current subscriptions, send <span style="color:#cd3d64;"><code>&quot;qualifiers&quot;: null</code></span> (the default value). <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required<span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>
<h1 id='transactions'>Transactions</h1>
<p><small><span style="color:#09b7b7; font-size:14px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Coming Winter 2019<span></small>
<br>
<br>
Lifespan Transactions API enables frictionless transactions between cardholders and subscription merchants. Banks will be able to rapidly expand cards on file by tapping into one of the fastest growing segments of ecommerce (<a href="https://www.mckinsey.com/industries/high-tech/our-insights/thinking-inside-the-subscription-box-new-research-on-ecommerce-consumers" target="_blank">McKinsey report</a>) via one simple and secure API.</p>

<p>Thus far, the Lifespan API has enabled banks to offer their cardholders two core value propositions:</p>

<ol>
<li>Management of current subscriptions</li>
<li>Discovery of new, recommended services</li>
</ol>

<p>Facilitating the actual transaction is the natural next step.</p>

<p>We make the transaction experience as frictionless as possible, utilizing best in class technology. Consumers will simply push a button to seamlessly start a new trial or subscription service. Merchants will receive user information necessary for a new signup, and your card will automatically go on file.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
