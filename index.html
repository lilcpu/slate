
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#security-amp-privacy" class="toc-h1 toc-link" data-title="Security &amp; Privacy">Security &amp; Privacy</a>
          </li>
          <li>
            <a href="#api-access" class="toc-h1 toc-link" data-title="API Access">API Access</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
          <li>
            <a href="#building-user-experience" class="toc-h1 toc-link" data-title="Building User Experience">Building User Experience</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#displaying-current-subscriptions-cancellation-buttons-and-recommendations" class="toc-h2 toc-link" data-title="Displaying Current Subscriptions, Cancellation Buttons, and Recommendations">Displaying Current Subscriptions, Cancellation Buttons, and Recommendations</a>
                  </li>
                  <li>
                    <a href="#displaying-the-cancellation-modal" class="toc-h2 toc-link" data-title="Displaying the Cancellation Modal">Displaying the Cancellation Modal</a>
                  </li>
                  <li>
                    <a href="#visualizing-monthly-payments" class="toc-h2 toc-link" data-title="Visualizing Monthly Payments">Visualizing Monthly Payments</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#banks" class="toc-h1 toc-link" data-title="Banks">Banks</a>
          </li>
          <li>
            <a href="#integration-guide" class="toc-h1 toc-link" data-title="Integration Guide">Integration Guide</a>
          </li>
          <li>
            <a href="#current-subscriptions-api" class="toc-h1 toc-link" data-title="Current Subscriptions API">Current Subscriptions API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-current-subscriptions-from-a-transaction-history" class="toc-h2 toc-link" data-title="Get All Current Subscriptions from a Transaction History">Get All Current Subscriptions from a Transaction History</a>
                  </li>
                  <li>
                    <a href="#get-new-subscriptions-from-a-transaction-history-of-an-existing-user" class="toc-h2 toc-link" data-title="Get New Subscriptions from a Transaction History of an Existing User">Get New Subscriptions from a Transaction History of an Existing User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cancellations-api" class="toc-h1 toc-link" data-title="Cancellations API">Cancellations API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-cancellation-information-for-a-subscription" class="toc-h2 toc-link" data-title="Get Cancellation Information For a Subscription">Get Cancellation Information For a Subscription</a>
                  </li>
                  <li>
                    <a href="#get-the-details-of-a-specific-cancellation-request" class="toc-h2 toc-link" data-title="Get the Details of a Specific Cancellation Request">Get the Details of a Specific Cancellation Request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#recommendations-api" class="toc-h1 toc-link" data-title="Recommendations API">Recommendations API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-recommended-merchants" class="toc-h2 toc-link" data-title="Get Recommended Merchants">Get Recommended Merchants</a>
                  </li>
                  <li>
                    <a href="#get-a-merchant-39-s-plans" class="toc-h2 toc-link" data-title="Get a Merchant's Plans">Get a Merchant's Plans</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transactions-api" class="toc-h1 toc-link" data-title="Transactions API">Transactions API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-user" class="toc-h2 toc-link" data-title="Create User">Create User</a>
                  </li>
                  <li>
                    <a href="#create-transaction" class="toc-h2 toc-link" data-title="Create Transaction">Create Transaction</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#merchants" class="toc-h1 toc-link" data-title="Merchants">Merchants</a>
          </li>
          <li>
            <a href="#integration-guide-2" class="toc-h1 toc-link" data-title="Integration Guide">Integration Guide</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#upload-or-update-a-sku" class="toc-h2 toc-link" data-title="Upload or Update a SKU">Upload or Update a SKU</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p><span style="color:#32325D; font-size:25px; font-weight: 400; line-height: 40px;">Lifespan offers APIs for banks to<span style="color:#5469d4; font-weight: 600"> reduce churn</span> and <span style="color:#5469d4; font-weight: 600">generate revenue</span>, and for subscription merchants to <span style="color:#5469d4; font-weight: 600">acquire users.</span></span></p>

<p>Lifespan is an end-to-end API for subscription management, discovery, and transactions. It&#39;s infrastructure that enables your cardholders to view, cancel, and add new subscription services frictionlessly within your web and mobile apps. You can integrate any feature individually or all together as a bundle.</p>

<p>The Lifespan API is organized around REST. Our API has predictable resource-oriented URLs, returns JSON-encoded responses, and uses standard HTTP response codes, authentication, and verbs. You can use the Lifespan API in test mode, which does not affect live data.</p>

<p><img src="https://i.imgur.com/oRas4vj.png" title="Lifespan Layers" alt="alt text" /></p>
<h1 id='security-amp-privacy'>Security &amp; Privacy</h1>
<p>Security is priority number one at Lifespan. Our data footprint is kept to an absolute minimum. Sensitive data is never stored on Lifespan servers. We require explicit user opt-in anytime we need their data to perform a task. None of our APIs require data tied to a human identity; thus, data within Lifespan systems is always anonymized.</p>

<p>To protect data in transit, all communications between you and Lifespan are encrypted via SSL using 2048-bit certificates. We use <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security" target="_blank">HSTS</a> to ensure requests interact with Lifespan only over HTTPS. At rest, all of the anonymous data is encrypted with AES-256.</p>

<p>We use the standard OAuth 2.0 protocol for authentication and authorization. See <a href="#api-access">API Access</a> below for instructions to get keys.</p>
<h1 id='api-access'>API Access</h1><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.lifespan.co/oauth/token"</span>
  -H <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span>
  -d <span class="s2">"grant_type=client_credentials&amp;client_id={YOUR_CLIENT_ID}&amp;client_secret={YOUR_CLIENT_SECRET}"</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="err">Content-Type</span><span class="p">:</span><span class="w"> </span><span class="err">application/json</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJz93a...k4laUWw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The Lifespan API implements the <a href="https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/" target="_blank">OAuth 2.0 client credentials grant flow.</a> There are a few steps to get set up with keys:</p>

<ol>
<li>Send us an email at <strong>api@lifespan.co</strong> to request credentials for your organization.</li>
<li>We&#39;ll send you a <code>client_id</code> and a <code>client_secret</code>. <strong>Save these somewhere secure.</strong></li>
<li>Request an <code>access_token</code> (see example).</li>
</ol>

<p>After you receive an <code>access_token</code> store it in your database for future use. When making requests to the Lifespan API you <strong>must</strong> include the token in the authorization header like so: <code>Authorization: Bearer {token}</code></p>

<aside class="notice">
You must replace <code>token</code> with your personal API key.
</aside>
<h1 id='errors'>Errors</h1>
<p>The Lifespan API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The resource requested is not available to you.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>
<h1 id='building-user-experience'>Building User Experience</h1>
<p>You will build a consumer-facing user experience directly into your web or mobile application. Below are a few suggestions and examples of how you might build your front-end components and the flows that connect them, but ultimately the choice is yours as for how to best present data and functionality to users.</p>
<h2 id='displaying-current-subscriptions-cancellation-buttons-and-recommendations'>Displaying Current Subscriptions, Cancellation Buttons, and Recommendations</h2>
<p>Display the results of a call to the <a href="#recurring-payments">Current Subscriptions API</a> in a list. If you&#39;re using the <a href="#cancellations">Cancellations API</a>, add a one-way switch or cancel button to each list element. If you&#39;re using the <a href="#recommendations">Recommendations API</a>, display the recommendations returned from your call in a module below the user&#39;s current subscriptions.</p>

<p><img src="https://i.imgur.com/JPLaSZg.png" title="Displaying Current Subscriptions and Recommendations Modules" alt="alt text" />
<img src="https://i.imgur.com/n8szahx.png" title="Displaying Current Subscriptions and Recommendations Modules" alt="alt text" /></p>
<h2 id='displaying-the-cancellation-modal'>Displaying the Cancellation Modal</h2>
<p>Upon clicking or tapping a cancellation button, render a popup modal prompting the user for their email associated with the given service. The modal should appear over the list of recurring services.</p>

<p><img src="https://i.imgur.com/KdtluxJ.png" title="Cancellation Modal" alt="alt text" /></p>
<h2 id='visualizing-monthly-payments'>Visualizing Monthly Payments</h2>
<p>Donut charts are a great way to visualize monthly data. Show the total monthly spend in the center. Users should be able to hover over or click each section of your chart to view full details. Consider including a legend for added clarity.</p>

<p><img src="https://i.imgur.com/n8FUqnI.png" title="Pie chart breakdown of a user's monthly spend" alt="alt text" /></p>
<h1 id='banks'>Banks</h1>
<p>Lifespan offers two APIs that enable cardholders to view and cancel current subscriptions.</p>

<p>The <a href='#recurring-payments'>Current Subscriptions API</a> allows developers to find a user&#39;s recurring transactions from a full transaction history. It returns a list of all found recurring payments and their prices. This information can be used to provide a breakdown of the user&#39;s monthly recurring spend.</p>

<p>The <a href='#cancellations'>Cancellation API</a> can be leveraged in tandem with the results of the Current Subscriptions API to enable users to cancel any recurring service from within your application, as opposed to experiencing various merchants&#39; potentially convoluted cancellation processes. Lifespan will contact the merchant to initiate the cancelation and return an ID that can be used to track status. Your user will be updated via email.</p>

<p>The <a href='#recommendations'>Recommendations API</a> cannot be used without Transactions API.</p>
<h1 id='integration-guide'>Integration Guide</h1>
<p>The Current Subscriptions API and Cancellation API do not require any integrations with Lifespan. However, the Recommendations API + Transactions API does, and here are the steps:</p>

<ol>
<li><p>Connect with our Bank Support team at banks@lifespan.co to recieve a bankID. You will be sending this identifier to Lifespan servers each time you create a new transaction.</p></li>
<li><p>Present a module in your user interface through which a user can opt-in to the subscription service recommendations and transactions experience powered by Lifespan. Once a user opts-in and agrees to the Lifespan Terms &amp; Conditions, send a POST request to /users either with your own UUID for the user or requesting a UUID from Lifespan.</p></li>
<li><p>Use the Recommendations API to create the module consisting of merchants via a POST request to /recommendations. Each merchant JSON object includes a merchant ID.</p></li>
<li><p>When the user selects a particular merchant, send a GET request to /merchants/:id with the ID from Step 2. This will return the merchant&#39;s plan(s). Render a select button for each, or a next button if there is only one plan.</p></li>
<li><p>When the user selects a plan, show a screen in which the user can select a card they would like to place on file.</p></li>
<li><p>All required user input is now complete, and you can now use the Transactions API to register an account with the merchant on behalf of the user. Send a POST request to /transactions with all the required information.</p></li>
</ol>
<h1 id='current-subscriptions-api'>Current Subscriptions API</h1><h2 id='get-all-current-subscriptions-from-a-transaction-history'>Get All Current Subscriptions from a Transaction History</h2><pre class="highlight shell tab-shell"><code>curl -d <span class="s1">'{
    "transactions":[ 
      {
        "amount":12.99,
        "name":"spotify",
        "date":"2019-05-16"
      },
      {
        "amount":15.99,
        "name":"netflix",
        "date":"2019-05-16"
      },
      ...
    ]}'</span> 
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: {token}"</span> 
    -X POST https://api.lifespan.co/services
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"requestId"</span><span class="p">:</span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"services"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spotify"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1299</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1599</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a <span style="color:#cd3d64;"><code>requestId</code></span> and a list of all recurring payments found in a transaction history for a given card account. Each result will include the merchant <span style="color:#cd3d64;"><code>name</code></span> and the <span style="color:#cd3d64;"><code>price</code></span> of the service. Use negative <span style="color:#cd3d64;"><code>amount</code></span> values for account credits and positive values for charges. The <span style="color:#cd3d64;"><code>price</code></span> field of the returned services is always in cents.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.lifespan.co/services</code></p>
<h3 id='payload'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transactions <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>A JSON-stringified array of transactions. <strong>Must include amount, date and name fields</strong> <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<p><img src="https://i.imgur.com/JPLaSZg.png" title="Displaying Current Subscriptions and Recommendations Modules" alt="alt text" /></p>

<aside class="success">
Don't forget your authentication key
</aside>
<h2 id='get-new-subscriptions-from-a-transaction-history-of-an-existing-user'>Get New Subscriptions from a Transaction History of an Existing User</h2><pre class="highlight shell tab-shell"><code>curl -d <span class="s1">'{
    "requestId": 1234,
    "transactions":[ 
      {
        "amount":12.99,
        "name":"spotify",
        "date":"2019-05-16"
      },
      {
        "amount":15.99,
        "name":"netflix",
        "date":"2019-05-16"
      },
      ...
    ]}'</span> 
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: {token}"</span> 
    -X POST https://api.lifespan.co/services/updates
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"services"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HBO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1499</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hulu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1299</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a list of all <em>new</em> recurring payments found in a <em>new</em> transaction history for a user who has already been processed in the Current Subscriptions API. You should submit new transaction data to this endpoint periodically (preferably monthly) in order to stay up to date with your user&#39;s new subscription enrollments.</p>

<p>Each result will include the merchant <span style="color:#cd3d64;"><code>name</code></span> and the <span style="color:#cd3d64;"><code>price</code></span> of the service. Use negative <span style="color:#cd3d64;"><code>amount</code></span> values for account credits and positive values for charges. The <span style="color:#cd3d64;"><code>price</code></span> field of the returned services is always in cents.</p>
<h3 id='endpoint'>Endpoint</h3>
<p><code>POST https://api.lifespan.co/services/updates</code></p>
<h3 id='payload-2'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestId <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>the <code>requestId</code> returned by the inital call to <code>/services</code> for this user <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>transactions <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>A JSON-stringified array of transactions. <strong>Must include amount, date and name fields</strong> <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>
<h1 id='cancellations-api'>Cancellations API</h1><h2 id='get-cancellation-information-for-a-subscription'>Get Cancellation Information For a Subscription</h2><pre class="highlight shell tab-shell"><code>curl -d <span class="s1">'{
    "merchantName":"Spotify", 
    "merchantState":"NY", 
    "merchantCity":"New York",
    "merchantZip":"90028"}'</span> 
    -H <span class="s2">"Content-Type: application/json"</span>
    -H <span class="s2">"Authorization: {token}"</span> 
    -X POST https://api.lifespan.co/cancellations
</code></pre>
<blockquote>
<p>If the information is instantly available the above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contactDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billing@spotify.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>If not, the above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"initiated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in a merchant name and merchant address info. Lifespan will identify and return instructions for the cancellation process of the given merchant. In most cases Lifespan will return this information instantly but on occasion this process could take up to a few hours. <span style="color:#cd3d64;"><code>status</code></span> can be <span style="color:#cd3d64;"><code>initiated</code></span>, <span style="color:#cd3d64;"><code>pending</code></span>, or <span style="color:#cd3d64;"><code>complete</code></span>.</p>
<h3 id='endpoint-2'>Endpoint</h3>
<p><code>POST https://api.lifespan.co/cancellations</code></p>
<h3 id='payload-3'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantName <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The name of the subscription merchant the user would like to cancel. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>merchantState <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The state of the subscription merchant the user would like to cancel. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>merchantCity <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The city of the subscription merchant the user would like to cancel. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>merchantZip <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The zip code of the subscription merchant the user would like to cancel. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>

<p><img src="https://i.imgur.com/KdtluxJ.png" title="Cancellations" alt="alt text" /></p>
<h2 id='get-the-details-of-a-specific-cancellation-request'>Get the Details of a Specific Cancellation Request</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.lifespan.co/cancellations/1234"</span>
  -H <span class="s2">"Authorization: {token}"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merchantName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spotify"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merchantState"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"merchantCity"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merchantZip"</span><span class="p">:</span><span class="s2">"90028"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contactDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns the details of a given cancellation id.</p>
<h3 id='endpoint-3'>Endpoint</h3>
<p><code>GET https://api.lifespan.co/cancellations/&lt;id&gt;</code></p>
<h3 id='payload-4'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>The ID of the cancellation. This is provided in the response to a POST request to <span style="color:#cd3d64;"><code>/cancellations</code></span>. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>
<h1 id='recommendations-api'>Recommendations API</h1><h2 id='get-recommended-merchants'>Get Recommended Merchants</h2><pre class="highlight shell tab-shell"><code>curl -X POST https://api.lifespan.co/recommendations
    -H <span class="s2">"Authorization: {token}"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{
         "subscriptions": [
            "Hulu",
            "Amazon Prime",
            "Ipsy",
            "Lola",
            "Barkbox"
         ],
         "gender": "female",
         "age": 30,
         "zip": 94539
       }'</span> 
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wall Street Journal"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21342</span><span class="p">,</span><span class="w">
         </span><span class="s2">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://logo.clearbit.com/wsj.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Read premium business journalism"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$1 for first 2 months"</span><span class="p">,</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Birchbox"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38291</span><span class="p">,</span><span class="w">
         </span><span class="s2">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://logo.clearbit.com/birchbox.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Receive 5 top beauty samples monthly"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$5 off first month"</span><span class="p">,</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rent the Runway"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42934</span><span class="p">,</span><span class="w">
         </span><span class="s2">"logoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://logo.clearbit.com/renttherunway.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rent unlimited designer clothing"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"offer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50% off first month"</span><span class="p">,</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in a user&#39;s current <span style="color:#cd3d64;"><code>subscriptions</code></span>, <span style="color:#cd3d64;"><code>gender</code></span>, <span style="color:#cd3d64;"><code>age</code></span>, and <span style="color:#cd3d64;"><code>zip</code></span> code. The response is an array of objects consisting of the merchant&#39;s name, logo URL, description, and offer. The objects are ranked in order of user conversion probability as scored by our recommendations algorithm, so we encourage you to display the results in the order in which you receive them.</p>
<h3 id='endpoint-4'>Endpoint</h3>
<p><code>POST https://api.lifespan.co/recommendations</code></p>
<h3 id='payload-5'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriptions <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>List of user&#39;s current subscription services. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>gender <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>User&#39;s gender. Value can either be <span style="color:#cd3d64;"><code>male</code></span> or <span style="color:#cd3d64;"><code>female</code></span>. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>age <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>User&#39;s age in years. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>zip <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>Zip code of user&#39;s residence. Must be a valid United States code. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>

<p><img src="https://i.imgur.com/n8szahx.png" title="Recommendations" alt="alt text" /></p>
<h2 id='get-a-merchant-39-s-plans'>Get a Merchant&#39;s Plans</h2><pre class="highlight shell tab-shell"><code>curl -X GET https://api.lifespan.co/merchants/38291
    -H <span class="s2">"Authorization: {token}"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"plans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access to digital content"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$10 per month"</span><span class="p">,</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Print newspaper delivered monthly"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$15 per month"</span><span class="p">,</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All Access"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Digital access + print delivered monthly"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$20 per month"</span><span class="p">,</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in a merchant&#39;s <span style="color:#cd3d64;"><code>id</code></span> in the URL. No other arguments are necessary. The response consists of an array of objects representing a plan of the merchant. Each plan object contains a name, id, description, and price. The merchant&#39;s ID for the request is provided in the response from the /merchants endpoint.</p>
<h3 id='endpoint-5'>Endpoint</h3>
<p><code>GET https://api.lifespan.co/merchants/:id</code></p>

<aside class="success">
Don't forget your authentication key
</aside>
<h1 id='transactions-api'>Transactions API</h1><h2 id='create-user'>Create User</h2><pre class="highlight shell tab-shell"><code>curl -X POST https://api.lifespan.co/users
    -H <span class="s2">"Authorization: {token}"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{
         "userUuid": "81c310c8-6d96-43e0-a9ad-1bc0bab01b32"
       }'</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"userUuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81c310c8-6d96-43e0-a9ad-1bc0bab01b32"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in an optional <span style="color:#cd3d64;"><code>userUuid</code></span> and registers a new user in the Lifespan system. If no UUID is provided, Lifespan will create and return a new UUID for the user. The response object will always look the same, either confirming the provided UUID or returning a newly created UUID. The returned UUID is to be used for all Transactions API requests involving this user.</p>
<h3 id='endpoint-6'>Endpoint</h3>
<p><code>POST https://api.lifespan.co/users</code></p>
<h3 id='payload-6'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userUuid <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>User&#39;s existing UUID in your system <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Optional</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>
<h2 id='create-transaction'>Create Transaction</h2>
<blockquote>
<p>Here is an example of a /transactions POST request with the payload completely encrypted:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://api.lifespan.co/transactions
    -H <span class="s2">"Authorization: {token}"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{
         "encryptedPayload": {
            "iv": 3aj345jkh43bh34db6k3s34ls3dt3ks84nfbj",
            "encryptedKey": "3a4kai48dh2bn58qn3mk2b(...)dkw2n3v2j23bk28fhty2s4",
            "encryptedValue": k42h2n2wh2v4n2bsh2msk2ms(...)asdfj3b3j2aka49hkfhssdw2",
            "publicKeyFingerprint": "8329729dh2bd3kfj4snk23(...)sh3nj3j5k9ak2ms9cmwfn4m5k2",
            "oaepPaddingDigestAlgorithm: "SHA512"
         }
       }'</span>
</code></pre>
<blockquote>
<p>The decrypted encryptedValue argument looks like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"bankId"</span><span class="p">:</span><span class="w"> </span><span class="mi">329283</span><span class="p">,</span><span class="w">
   </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">234232</span><span class="p">,</span><span class="w">
      </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scott"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"michael.scott@gmail.com"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="mi">857291</span><span class="p">,</span><span class="w">
   </span><span class="s2">"planId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="s2">"paymentCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000-0000-0000-0000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expiryYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">2021</span><span class="p">,</span><span class="w">
      </span><span class="s2">"expiryMonth"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21 Market St"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 43"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressZip"</span><span class="p">:</span><span class="w"> </span><span class="mi">94016</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The request with the encrypted payload returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in an encrypted payload containing the IDs of all entities involved with the transaction (bank, user, merchant, plan), as well as the user&#39;s PII data (first name, last name, email) and card to be used for payment. All of this information is to be encrypted using the AES key, which itself is to be encrypted using the recipient&#39;s RSA public key.</p>
<h3 id='endpoint-7'>Endpoint</h3>
<p><code>POST https://api.lifespan.co/transactions</code></p>
<h3 id='payload-7'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>iv <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>Initialization vector for the encryption of sensitive data with AES. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>encryptedKey <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>Contains the sensitive JSON payload encrypted using the AES session key and the initalization vector. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>publicKeyFingerprint <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>Hex-encoded SHA-512 digest of the recipient&#39;s RSA public key used for encryption. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>oaepPaddingDigestAlgorithm <span style="color:#8792a2; font-size:12px;">integer</span></td>
<td>Indicates the digest algorithm used with the RSA-OAEP scheme. Must be either SHA256 or SHA512. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>
<h1 id='merchants'>Merchants</h1>
<p>Create an endpoint to accept new users referred by banks.</p>
<h1 id='integration-guide-2'>Integration Guide</h1><h2 id='upload-or-update-a-sku'>Upload or Update a SKU</h2><pre class="highlight shell tab-shell"><code>curl -X POST https://api.lifespan.co/merchants
    -H <span class="s2">"Authorization: {token}"</span>
    -H <span class="s2">"Content-Type: application/json"</span>
    -d <span class="s1">'{
         "name": "YouTubeTV",
         "website": "https://tv.youtube.com"
         "logo": "https://tv.youtube.com/logo",
         "gender": "All",
         "plans": [
            {
               "name": "Standard",
               "price": 40.00,
               "interval": "month",
               "includes": [
                  "DVR with unlimited storage",
                  "Local and national live sports",
                  "6 accounts per household",
                  "3 simultaneous streams"
               ],
               "regions": ["United States"]
            }
         ],
         "offers": [
            {
               "description": "7 days free",
               "qualifiers": null
            },
            {
               "description": "1 month free",
               "qualifiers": ["HBO Now", "Hulu", "Netflix"]
            },
            {
               "description": "2 months free",
               "qualifiers": ["SlingTV", "DirectTV", "DishTV"]
            }
         ]
       }'</span> 
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">   </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SKU successfully uploaded"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint takes in attributes of a subscription service to upload (POST) or update (PUT). It returns an object with a 200 status code if the call succeeded.</p>
<h3 id='endpoints'>Endpoints</h3>
<p><code>POST https://api.lifespan.co/merchants</code></p>

<p><code>PUT https://api.lifespan.co/merchants</code></p>
<h3 id='payload-8'>Payload</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>Name of subscription service. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>website <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>Website URL. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>logo <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>URL to hosted logo. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required<span></td>
</tr>
<tr>
<td>gender <span style="color:#8792a2; font-size:12px;">string</span></td>
<td>The gender of the service&#39;s target demographic. Values can be either <span style="color:#cd3d64;"><code>Male</code></span>, <span style="color:#cd3d64;"><code>Female</code></span>, or <span style="color:#cd3d64;"><code>All</code></span>. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required</span></td>
</tr>
<tr>
<td>plans <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>An array of objects, with each object representing a plan. The plan object contains the following required information: the <span style="color:#cd3d64;"><code>name</code></span> <span style="color:#8792a2; font-size:12px;">(string)</span> of the service, its <span style="color:#cd3d64;"><code>price</code></span> <span style="color:#8792a2; font-size:12px;">(integer)</span> in USD, the billing <span style="color:#cd3d64;"><code>interval</code></span> <span style="color:#8792a2; font-size:12px;">(string)</span>, a list of benefits and/or features the service <span style="color:#cd3d64;"><code>includes</code></span> <span style="color:#8792a2; font-size:12px;">(array)</span> and a list of U.S. <span style="color:#cd3d64;"><code>regions</code></span><span style="color:#8792a2; font-size:12px;">(array)</span> - cities or states - that the plan is available in. Send <span style="color:#cd3d64;"><code>&quot;regions&quot;: [&quot;United States&quot;]</code></span> if nationwide or <span style="color:#cd3d64;"><code>[&quot;Continental United States&quot;]</code></span> if available everywhere but Alaska and Hawaii. <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required<span></td>
</tr>
<tr>
<td>offers <span style="color:#8792a2; font-size:12px;">array</span></td>
<td>An array of objects, with each object representing an offer. The offer object contains 1. a <span style="color:#cd3d64;"><code>description</code></span> <span style="color:#8792a2; font-size:12px;">(string)</span> of the offer. 2. A list of <span style="color:#cd3d64;"><code>qualifiers</code></span> <span style="color:#8792a2; font-size:12px;">(array)</span>. Qualifiers are subscriptions a target user may be engaged with currently which indicate interest in your category or engagement with competing services; thus <strong>qualifying</strong> them for a specific offer. If the offer is available to anyone regardless of their current subscriptions, send <span style="color:#cd3d64;"><code>&quot;qualifiers&quot;: null</code></span> (the default value). <span style="color:#e56f4a; font-size:10px; letter-spacing: .12px; text-transform: uppercase; font-weight: 600;">Required<span></td>
</tr>
</tbody></table>

<aside class="success">
Don't forget your authentication key
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
